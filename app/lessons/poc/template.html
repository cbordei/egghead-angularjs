<div class="well"
  ng-repeat="item in items = (parent = item).widgets"
  ng-init="item.parent = parent; item.level = parent.level + 1">

  <h4>{{ item.label }}</h4>
  <div>Name of widget "{{item.name}}", @ nest level {{item.level - 1}}</div>
  <div>attr1: {{item.name}}</div>
  <div>attr1: {{item.label}}</div>
  <div>attr2: {{item.type}}</div>

  <!-- <widget /> -->

  <!-- <buttons /> -->
  <button ng-if="item.type == 'StructuredMessage::Widgets::Form'" ng-click="addSubSection(item)">Add sub section</button>
  <button ng-if="item.type == 'StructuredMessage::Widgets::Section'" ng-click="addSubItem(item)">Add sub item</button>
  <button ng-click="addSiblingItem(items, $index)">Add sibling</button>
  <button ng-click="deleteMe(items, $index)">Delete me</button>

  <div>
    <div ng-include="'template.html'"></div>
  </div>
</div>
